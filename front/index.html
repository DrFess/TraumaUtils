<!--<!DOCTYPE html>-->
<!--<html lang="ru">-->
<!--<head>-->
<!--    <meta charset="UTF-8">-->
<!--    <meta name="viewport" content="width=device-width, initial-scale=1.0">-->
<!--    <title>Выгрузка</title>-->
<!--    <link rel="stylesheet" href="styles.css">-->
<!--    <script>-->
<!--        async function sendRequest(url) {-->
<!--            try {-->
<!--                let response = await fetch(url, {-->
<!--                    method: 'GET'-->
<!--                });-->
<!--                if (response.ok) {-->
<!--                    let data = await response.json();-->
<!--                    console.log(data);-->
<!--                    alert("Запрос успешно выполнен!");-->
<!--                } else {-->
<!--                    alert("Ошибка1: " + response.status);-->
<!--                }-->
<!--            } catch (error) {-->
<!--                alert("Ошибка2: " + error.message);-->
<!--            }-->
<!--        }-->

<!--        function setupEventHandlers() {-->
<!--            document.querySelector('.create-diaries').addEventListener('click', () => {-->
<!--                sendRequest('http://127.0.0.1:8000/create-diaries');-->
<!--            });-->

<!--            document.querySelector('.export-stories').addEventListener('click', () => {-->
<!--                sendRequest('http://127.0.0.1:8000/export-stories');-->
<!--            });-->

<!--            document.querySelector('.export-maps').addEventListener('click', () => {-->
<!--                sendRequest('http://127.0.0.1:8000/export-maps');-->
<!--            });-->

<!--            document.querySelector('.create-diaries').addEventListener('mousedown', (e) => {-->
<!--                e.target.classList.add('active');-->
<!--            });-->

<!--            document.querySelector('.export-stories').addEventListener('mousedown', (e) => {-->
<!--                e.target.classList.add('active');-->
<!--            });-->

<!--            document.querySelector('.export-maps').addEventListener('mousedown', (e) => {-->
<!--                e.target.classList.add('active');-->
<!--            });-->

<!--            document.querySelector('.create-diaries').addEventListener('mouseup', (e) => {-->
<!--                e.target.classList.remove('active');-->
<!--            });-->

<!--            document.querySelector('.export-stories').addEventListener('mouseup', (e) => {-->
<!--                e.target.classList.remove('active');-->
<!--            });-->

<!--            document.querySelector('.export-maps').addEventListener('mouseup', (e) => {-->
<!--                e.target.classList.remove('active');-->
<!--            });-->

<!--            document.querySelector('.create-diaries').addEventListener('mouseleave', (e) => {-->
<!--                e.target.classList.remove('active');-->
<!--            });-->

<!--            document.querySelector('.export-stories').addEventListener('mouseleave', (e) => {-->
<!--                e.target.classList.remove('active');-->
<!--            });-->

<!--            document.querySelector('.export-maps').addEventListener('mouseleave', (e) => {-->
<!--                e.target.classList.remove('active');-->
<!--            });-->
<!--        }-->

<!--        window.onload = setupEventHandlers;-->
<!--    </script>-->
<!--</head>-->
<!--<body>-->
<!--    <div class="container">-->
<!--        <h1>Выгрузка </h1>-->
<!--        <button class="create-diaries">Создать дневники</button>-->
<!--        <button class="export-stories">Выгрузить истории</button>-->
<!--        <button class="export-maps">Выгрузить карты травмпункта</button>-->
<!--    </div>-->
<!--</body>-->
<!--</html>-->

<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Выгрузка</title>
    <link rel="stylesheet" href="styles.css">
    <script>
        async function sendRequest(url) {
            try {
                let response = await fetch(url, {
                    method: 'GET'
                });
                if (response.ok) {
                    let data = await response.json();
                    console.log(data);
                    alert("Запрос успешно выполнен!");
                } else {
                    alert("Ошибка1: " + response.status);
                }
            } catch (error) {
                alert("Ошибка2: " + error.message);
            }
        }

        // async function sendExcelFile(event) {
        //     event.preventDefault(); // предотвращает перезагрузку страницы
        //     let formData = new FormData(event.target);
        //
        //     try {
        //         let response = await fetch('http://127.0.0.1:8000/upload-excel', {
        //             method: 'POST',
        //             body: formData
        //         });
        //
        //         if (response.ok) {
        //             alert("Файл успешно загружен!");
        //         } else {
        //             alert("Ошибка при загрузке файла: " + response.status);
        //         }
        //     } catch (error) {
        //         alert("Ошибка: " + error.message);
        //     }
        // }

        function setupEventHandlers() {
            document.querySelector('.create-diaries').addEventListener('click', () => {
                sendRequest('http://127.0.0.1:8000/create-diaries');
            });

            document.querySelector('.export-stories').addEventListener('click', () => {
                sendRequest('http://127.0.0.1:8000/export-stories');
            });

            // document.querySelector('.upload-form').addEventListener('submit', sendExcelFile);

            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('mousedown', (e) => {
                    e.target.classList.add('active');
                });
                button.addEventListener('mouseup', (e) => {
                    e.target.classList.remove('active');
                });
                button.addEventListener('mouseleave', (e) => {
                    e.target.classList.remove('active');
                });
            });
        }

        window.onload = setupEventHandlers;
    </script>
</head>
<body>
    <div class="container">
        <h1>Выгрузка</h1>
        <button class="create-diaries">Создать дневники</button>
        <button class="export-stories">Выгрузить истории</button>

        <!-- Форма для загрузки Excel файла -->
        <form class="upload-form" enctype="multipart/form-data">
            <label for="excel-file">Загрузить файл Excel:</label>
            <input type="file" id="excel-file" name="excel-file" accept=".xlsx, .xls">
            <button type="submit" class="export-maps">Загрузить файл</button>
        </form>
    </div>
</body>
</html>

